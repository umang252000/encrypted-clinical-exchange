{"ast":null,"code":"var _jsxFileName = \"/workspaces/encrypted-clinical-exchange/clinician-ui/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Login from \"./Login\";\nimport SearchBox from \"./components/SearchBox\";\nimport ResultsTable from \"./components/ResultsTable\";\nimport DecryptPanel from \"./components/DecryptPanel\";\n\n// ‚úÖ NEW (added, not breaking anything)\nimport Dashboard from \"./pages/Dashboard\";\n\n// ===============================\n// CONFIG ‚Äî Proxy URL\n// ===============================\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PROXY_BASE = window.location.hostname.includes(\"github.dev\") ? \"https://fuzzy-adventure-5g77j7g7j5wrf4r75-8000.app.github.dev\" : \"http://localhost:8000\";\n\n// ===============================\n//   Crypto Helpers (UNCHANGED)\n// ===============================\nasync function importKeyFromRaw(rawKeyBytes) {\n  return await window.crypto.subtle.importKey(\"raw\", rawKeyBytes, {\n    name: \"AES-GCM\"\n  }, false, [\"decrypt\"]);\n}\nfunction hexToUint8(hex) {\n  return new Uint8Array(hex.match(/.{1,2}/g).map(b => parseInt(b, 16)));\n}\nasync function decryptBlob(rawKeyBytes, nonceHex, ciphertextHex) {\n  const key = await importKeyFromRaw(rawKeyBytes);\n  const iv = hexToUint8(nonceHex);\n  const ct = hexToUint8(ciphertextHex);\n  const plain = await window.crypto.subtle.decrypt({\n    name: \"AES-GCM\",\n    iv\n  }, key, ct);\n  return JSON.parse(new TextDecoder().decode(plain));\n}\n\n// ===============================\n// Masking logic\n// ===============================\nfunction maskMetadata(metadata) {\n  const m = {\n    ...metadata\n  };\n  if (m.age) m.age = \"##\";\n  if (m.name) m.name = \"REDACTED\";\n  return m;\n}\n\n// ===============================\n// Decode JWT (UI only)\n// ===============================\nfunction parseJwtPayload(token) {\n  try {\n    const payload = token.split(\".\")[1];\n    return JSON.parse(atob(payload.replace(/-/g, \"+\").replace(/_/g, \"/\")));\n  } catch {\n    return null;\n  }\n}\n\n// ===============================\n// INTERNAL APP (UNCHANGED LOGIC)\n// ===============================\nfunction LegacyClinicianApp() {\n  _s();\n  const [token, setToken] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(null);\n  const [blobs, setBlobs] = useState([]);\n  const [keyFile, setKeyFile] = useState(null);\n  const [results, setResults] = useState([]);\n  const [decrypted, setDecrypted] = useState(null);\n  function setAuthToken(t) {\n    setToken(t);\n    if (t) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + t;\n      sessionStorage.setItem(\"jwt\", t);\n      const payload = parseJwtPayload(t);\n      setUserInfo(payload ? {\n        sub: payload.sub,\n        role: payload.role\n      } : null);\n    } else {\n      delete axios.defaults.headers.common[\"Authorization\"];\n      sessionStorage.removeItem(\"jwt\");\n      setUserInfo(null);\n    }\n  }\n  useEffect(() => {\n    const saved = sessionStorage.getItem(\"jwt\");\n    if (saved) setAuthToken(saved);\n  }, []);\n  async function loadBlobs() {\n    const r = await axios.get(`${PROXY_BASE}/list_blobs`);\n    setBlobs(r.data.blobs || []);\n  }\n  async function handleDecrypt(filename) {\n    if (!keyFile) return alert(\"Upload key file first\");\n    const fr = new FileReader();\n    fr.onload = async e => {\n      const rawKey = new Uint8Array(e.target.result);\n      const r = await axios.get(`${PROXY_BASE}/fetch_blob/${filename}`);\n      const enc = r.data.enc_blob;\n      let plain = await decryptBlob(rawKey.buffer, enc.nonce, enc.ciphertext);\n      if (plain.metadata) {\n        plain.metadata = maskMetadata(plain.metadata);\n      }\n      setDecrypted(plain);\n    };\n    fr.readAsArrayBuffer(keyFile);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Clinician UI \\u2014 Secure Encrypted Federation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Login, {\n      onToken: setAuthToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), userInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [\"Logged in as \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: userInfo.sub\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 24\n      }, this), \" (\", userInfo.role, \")\", /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginLeft: 10\n        },\n        onClick: () => setAuthToken(\"\"),\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#777\"\n      },\n      children: \"Not logged in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Encrypted Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n      onResults: setResults\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResultsTable, {\n      results: results\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Local Decryption\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: e => setKeyFile(e.target.files[0])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: loadBlobs,\n      children: \"List Blobs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: blobs.map(b => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [b, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDecrypt(b),\n          children: \"Decrypt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, b, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DecryptPanel, {\n      decrypted: decrypted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n\n// ===============================\n// ‚úÖ FINAL APP (LOGIN-GATED, WORKING)\n// ===============================\n_s(LegacyClinicianApp, \"H2ZI1hHFkjC6DnI9IDJ3f306mLU=\");\n_c = LegacyClinicianApp;\nexport default function App() {\n  _s2();\n  const [token, setToken] = useState(null);\n\n  // ----------------------------------\n  // Apply token globally\n  // ----------------------------------\n  function applyToken(t) {\n    if (t) {\n      sessionStorage.setItem(\"jwt\", t);\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + t;\n      setToken(t);\n    } else {\n      sessionStorage.removeItem(\"jwt\");\n      delete axios.defaults.headers.common[\"Authorization\"];\n      setToken(null);\n    }\n  }\n\n  // ----------------------------------\n  // Load token on startup\n  // ----------------------------------\n  useEffect(() => {\n    const saved = sessionStorage.getItem(\"jwt\");\n    if (saved) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + saved;\n      setToken(saved);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      background: \"#f1f5f9\",\n      padding: 24\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: 16\n      },\n      children: \"\\uD83C\\uDFE5 Encrypted Clinical Exchange\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Login, {\n      onToken: applyToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), !token && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#666\",\n        marginTop: 20\n      },\n      children: \"Please log in with a valid JWT to continue.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }, this), token && /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"SSLzquenZQzOMzU62DrezfOo2pU=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"LegacyClinicianApp\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Login","SearchBox","ResultsTable","DecryptPanel","Dashboard","jsxDEV","_jsxDEV","PROXY_BASE","window","location","hostname","includes","importKeyFromRaw","rawKeyBytes","crypto","subtle","importKey","name","hexToUint8","hex","Uint8Array","match","map","b","parseInt","decryptBlob","nonceHex","ciphertextHex","key","iv","ct","plain","decrypt","JSON","parse","TextDecoder","decode","maskMetadata","metadata","m","age","parseJwtPayload","token","payload","split","atob","replace","LegacyClinicianApp","_s","setToken","userInfo","setUserInfo","blobs","setBlobs","keyFile","setKeyFile","results","setResults","decrypted","setDecrypted","setAuthToken","t","defaults","headers","common","sessionStorage","setItem","sub","role","removeItem","saved","getItem","loadBlobs","r","get","data","handleDecrypt","filename","alert","fr","FileReader","onload","e","rawKey","target","result","enc","enc_blob","buffer","nonce","ciphertext","readAsArrayBuffer","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onToken","marginBottom","marginLeft","onClick","color","onResults","type","onChange","files","_c","App","_s2","applyToken","minHeight","background","marginTop","_c2","$RefreshReg$"],"sources":["/workspaces/encrypted-clinical-exchange/clinician-ui/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport Login from \"./Login\";\nimport SearchBox from \"./components/SearchBox\";\nimport ResultsTable from \"./components/ResultsTable\";\nimport DecryptPanel from \"./components/DecryptPanel\";\n\n// ‚úÖ NEW (added, not breaking anything)\nimport Dashboard from \"./pages/Dashboard\";\n\n// ===============================\n// CONFIG ‚Äî Proxy URL\n// ===============================\nconst PROXY_BASE =\n  window.location.hostname.includes(\"github.dev\")\n    ? \"https://fuzzy-adventure-5g77j7g7j5wrf4r75-8000.app.github.dev\"\n    : \"http://localhost:8000\";\n\n// ===============================\n//   Crypto Helpers (UNCHANGED)\n// ===============================\nasync function importKeyFromRaw(rawKeyBytes) {\n  return await window.crypto.subtle.importKey(\n    \"raw\",\n    rawKeyBytes,\n    { name: \"AES-GCM\" },\n    false,\n    [\"decrypt\"]\n  );\n}\n\nfunction hexToUint8(hex) {\n  return new Uint8Array(hex.match(/.{1,2}/g).map((b) => parseInt(b, 16)));\n}\n\nasync function decryptBlob(rawKeyBytes, nonceHex, ciphertextHex) {\n  const key = await importKeyFromRaw(rawKeyBytes);\n  const iv = hexToUint8(nonceHex);\n  const ct = hexToUint8(ciphertextHex);\n\n  const plain = await window.crypto.subtle.decrypt(\n    { name: \"AES-GCM\", iv },\n    key,\n    ct\n  );\n\n  return JSON.parse(new TextDecoder().decode(plain));\n}\n\n// ===============================\n// Masking logic\n// ===============================\nfunction maskMetadata(metadata) {\n  const m = { ...metadata };\n  if (m.age) m.age = \"##\";\n  if (m.name) m.name = \"REDACTED\";\n  return m;\n}\n\n// ===============================\n// Decode JWT (UI only)\n// ===============================\nfunction parseJwtPayload(token) {\n  try {\n    const payload = token.split(\".\")[1];\n    return JSON.parse(atob(payload.replace(/-/g, \"+\").replace(/_/g, \"/\")));\n  } catch {\n    return null;\n  }\n}\n\n// ===============================\n// INTERNAL APP (UNCHANGED LOGIC)\n// ===============================\nfunction LegacyClinicianApp() {\n  const [token, setToken] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(null);\n\n  const [blobs, setBlobs] = useState([]);\n  const [keyFile, setKeyFile] = useState(null);\n  const [results, setResults] = useState([]);\n  const [decrypted, setDecrypted] = useState(null);\n\n  function setAuthToken(t) {\n    setToken(t);\n\n    if (t) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + t;\n      sessionStorage.setItem(\"jwt\", t);\n\n      const payload = parseJwtPayload(t);\n      setUserInfo(payload ? { sub: payload.sub, role: payload.role } : null);\n    } else {\n      delete axios.defaults.headers.common[\"Authorization\"];\n      sessionStorage.removeItem(\"jwt\");\n      setUserInfo(null);\n    }\n  }\n\n  useEffect(() => {\n    const saved = sessionStorage.getItem(\"jwt\");\n    if (saved) setAuthToken(saved);\n  }, []);\n\n  async function loadBlobs() {\n    const r = await axios.get(`${PROXY_BASE}/list_blobs`);\n    setBlobs(r.data.blobs || []);\n  }\n\n  async function handleDecrypt(filename) {\n    if (!keyFile) return alert(\"Upload key file first\");\n\n    const fr = new FileReader();\n    fr.onload = async (e) => {\n      const rawKey = new Uint8Array(e.target.result);\n      const r = await axios.get(`${PROXY_BASE}/fetch_blob/${filename}`);\n      const enc = r.data.enc_blob;\n\n      let plain = await decryptBlob(\n        rawKey.buffer,\n        enc.nonce,\n        enc.ciphertext\n      );\n\n      if (plain.metadata) {\n        plain.metadata = maskMetadata(plain.metadata);\n      }\n\n      setDecrypted(plain);\n    };\n\n    fr.readAsArrayBuffer(keyFile);\n  }\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h2>Clinician UI ‚Äî Secure Encrypted Federation</h2>\n\n      <Login onToken={setAuthToken} />\n\n      {userInfo ? (\n        <div style={{ marginBottom: 12 }}>\n          Logged in as <b>{userInfo.sub}</b> ({userInfo.role})\n          <button style={{ marginLeft: 10 }} onClick={() => setAuthToken(\"\")}>\n            Logout\n          </button>\n        </div>\n      ) : (\n        <div style={{ color: \"#777\" }}>Not logged in</div>\n      )}\n\n      <hr />\n\n      <h3>Encrypted Search</h3>\n      <SearchBox onResults={setResults} />\n      <ResultsTable results={results} />\n\n      <hr />\n\n      <h3>Local Decryption</h3>\n      <input type=\"file\" onChange={(e) => setKeyFile(e.target.files[0])} />\n      <button onClick={loadBlobs}>List Blobs</button>\n\n      <ul>\n        {blobs.map((b) => (\n          <li key={b}>\n            {b}\n            <button onClick={() => handleDecrypt(b)}>Decrypt</button>\n          </li>\n        ))}\n      </ul>\n\n      <DecryptPanel decrypted={decrypted} />\n    </div>\n  );\n}\n\n// ===============================\n// ‚úÖ FINAL APP (LOGIN-GATED, WORKING)\n// ===============================\nexport default function App() {\n  const [token, setToken] = useState(null);\n\n  // ----------------------------------\n  // Apply token globally\n  // ----------------------------------\n  function applyToken(t) {\n    if (t) {\n      sessionStorage.setItem(\"jwt\", t);\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + t;\n      setToken(t);\n    } else {\n      sessionStorage.removeItem(\"jwt\");\n      delete axios.defaults.headers.common[\"Authorization\"];\n      setToken(null);\n    }\n  }\n\n  // ----------------------------------\n  // Load token on startup\n  // ----------------------------------\n  useEffect(() => {\n    const saved = sessionStorage.getItem(\"jwt\");\n    if (saved) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + saved;\n      setToken(saved);\n    }\n  }, []);\n\n  return (\n    <div style={{ minHeight: \"100vh\", background: \"#f1f5f9\", padding: 24 }}>\n      <h2 style={{ marginBottom: 16 }}>\n        üè• Encrypted Clinical Exchange\n      </h2>\n\n      {/* üîê LOGIN (ALWAYS VISIBLE) */}\n      <Login onToken={applyToken} />\n\n      {/* ‚õî NOT LOGGED IN */}\n      {!token && (\n        <div style={{ color: \"#666\", marginTop: 20 }}>\n          Please log in with a valid JWT to continue.\n        </div>\n      )}\n\n      {/* ‚úÖ LOGGED IN ‚Üí DASHBOARD */}\n      {token && <Dashboard />}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}