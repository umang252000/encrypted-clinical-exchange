{"ast":null,"code":"var _jsxFileName = \"/workspaces/encrypted-clinical-exchange/clinician-ui/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Login from \"./Login\";\nimport SearchBox from \"./components/SearchBox\";\nimport ResultsTable from \"./components/ResultsTable\";\nimport DecryptPanel from \"./components/DecryptPanel\";\n\n// ===============================\n// CONFIG ‚Äî Proxy URL\n// ===============================\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PROXY_BASE = window.location.hostname.includes(\"github.dev\") ? \"https://fuzzy-adventure-5g77j7g7j5wrf4r75-8000.app.github.dev\" : \"http://localhost:8000\";\n\n// ===============================\n//   Crypto Helpers (UNCHANGED)\n// ===============================\nasync function importKeyFromRaw(rawKeyBytes) {\n  return await window.crypto.subtle.importKey(\"raw\", rawKeyBytes, {\n    name: \"AES-GCM\"\n  }, false, [\"decrypt\"]);\n}\nfunction hexToUint8(hex) {\n  return new Uint8Array(hex.match(/.{1,2}/g).map(b => parseInt(b, 16)));\n}\nasync function decryptBlob(rawKeyBytes, nonceHex, ciphertextHex) {\n  const key = await importKeyFromRaw(rawKeyBytes);\n  const iv = hexToUint8(nonceHex);\n  const ct = hexToUint8(ciphertextHex);\n  const plain = await window.crypto.subtle.decrypt({\n    name: \"AES-GCM\",\n    iv\n  }, key, ct);\n  return JSON.parse(new TextDecoder().decode(plain));\n}\n\n// ===============================\n// Masking logic\n// ===============================\nfunction maskMetadata(metadata) {\n  const m = {\n    ...metadata\n  };\n  if (m.age) m.age = \"##\";\n  if (m.name) m.name = \"REDACTED\";\n  return m;\n}\n\n// ===============================\n// Decode JWT (UI only)\n// ===============================\nfunction parseJwtPayload(token) {\n  try {\n    const payload = token.split(\".\")[1];\n    return JSON.parse(atob(payload.replace(/-/g, \"+\").replace(/_/g, \"/\")));\n  } catch {\n    return null;\n  }\n}\n\n// ===============================\n//        MAIN APP\n// ===============================\nexport default function App() {\n  _s();\n  const [token, setToken] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(null);\n\n  // Existing features\n  const [blobs, setBlobs] = useState([]);\n  const [keyFile, setKeyFile] = useState(null);\n\n  // New features\n  const [results, setResults] = useState([]);\n\n  // ‚úÖ NEW: decrypted result state\n  const [decrypted, setDecrypted] = useState(null);\n\n  // ===============================\n  // AUTH HANDLING\n  // ===============================\n  function setAuthToken(t) {\n    setToken(t);\n    if (t) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + t;\n      sessionStorage.setItem(\"jwt\", t);\n      const payload = parseJwtPayload(t);\n      setUserInfo(payload ? {\n        sub: payload.sub,\n        role: payload.role\n      } : null);\n    } else {\n      delete axios.defaults.headers.common[\"Authorization\"];\n      sessionStorage.removeItem(\"jwt\");\n      setUserInfo(null);\n    }\n  }\n\n  // Load token on startup\n  useEffect(() => {\n    const saved = sessionStorage.getItem(\"jwt\");\n    if (saved) setAuthToken(saved);\n  }, []);\n\n  // ===============================\n  // LOAD BLOBS\n  // ===============================\n  async function loadBlobs() {\n    try {\n      const r = await axios.get(`${PROXY_BASE}/list_blobs`);\n      setBlobs(r.data.blobs || []);\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert(\"List failed: \" + (((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || e.message));\n    }\n  }\n\n  // ===============================\n  // DECRYPT BLOB (UPDATED ‚Äî NO ALERT)\n  // ===============================\n  async function handleDecrypt(filename) {\n    if (!keyFile) {\n      alert(\"Upload key file first\");\n      return;\n    }\n    const fr = new FileReader();\n    fr.onload = async e => {\n      try {\n        const rawKey = new Uint8Array(e.target.result);\n        const r = await axios.get(`${PROXY_BASE}/fetch_blob/${filename}`);\n        const enc = r.data.enc_blob;\n        const plain = await decryptBlob(rawKey.buffer, enc.nonce, enc.ciphertext);\n\n        // Optional masking (UI only)\n        if (plain.metadata) {\n          plain.metadata = maskMetadata(plain.metadata);\n        }\n        setDecrypted(plain);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        alert(\"Decrypt failed: \" + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || err.message));\n      }\n    };\n    fr.readAsArrayBuffer(keyFile);\n  }\n\n  // ===============================\n  // UI\n  // ===============================\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Clinician UI \\u2014 Secure Encrypted Federation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Login, {\n      onToken: setAuthToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), userInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [\"Logged in as \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: userInfo.sub\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 24\n      }, this), \" (\", userInfo.role, \")\", /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginLeft: 10\n        },\n        onClick: () => setAuthToken(\"\"),\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#777\"\n      },\n      children: \"Not logged in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Encrypted Search (RBAC-Protected)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n      onResults: setResults\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResultsTable, {\n      results: results\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Encrypted Blob Decryption (Local Only)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: e => setKeyFile(e.target.files[0])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        marginLeft: 8\n      },\n      children: \"Upload hospital AES key (never leaves browser)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadBlobs,\n        children: \"List Encrypted Blobs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: blobs.map(b => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginTop: 8\n        },\n        children: [b, /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginLeft: 8\n          },\n          onClick: () => handleDecrypt(b),\n          children: \"Decrypt locally\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, b, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DecryptPanel, {\n      decrypted: decrypted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"H2ZI1hHFkjC6DnI9IDJ3f306mLU=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Login","SearchBox","ResultsTable","DecryptPanel","jsxDEV","_jsxDEV","PROXY_BASE","window","location","hostname","includes","importKeyFromRaw","rawKeyBytes","crypto","subtle","importKey","name","hexToUint8","hex","Uint8Array","match","map","b","parseInt","decryptBlob","nonceHex","ciphertextHex","key","iv","ct","plain","decrypt","JSON","parse","TextDecoder","decode","maskMetadata","metadata","m","age","parseJwtPayload","token","payload","split","atob","replace","App","_s","setToken","userInfo","setUserInfo","blobs","setBlobs","keyFile","setKeyFile","results","setResults","decrypted","setDecrypted","setAuthToken","t","defaults","headers","common","sessionStorage","setItem","sub","role","removeItem","saved","getItem","loadBlobs","r","get","data","e","_e$response","_e$response$data","alert","response","detail","message","handleDecrypt","filename","fr","FileReader","onload","rawKey","target","result","enc","enc_blob","buffer","nonce","ciphertext","err","_err$response","_err$response$data","readAsArrayBuffer","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onToken","marginBottom","marginLeft","onClick","color","onResults","type","onChange","files","marginTop","_c","$RefreshReg$"],"sources":["/workspaces/encrypted-clinical-exchange/clinician-ui/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Login from \"./Login\";\nimport SearchBox from \"./components/SearchBox\";\nimport ResultsTable from \"./components/ResultsTable\";\nimport DecryptPanel from \"./components/DecryptPanel\";\n\n// ===============================\n// CONFIG ‚Äî Proxy URL\n// ===============================\nconst PROXY_BASE =\n  window.location.hostname.includes(\"github.dev\")\n    ? \"https://fuzzy-adventure-5g77j7g7j5wrf4r75-8000.app.github.dev\"\n    : \"http://localhost:8000\";\n\n// ===============================\n//   Crypto Helpers (UNCHANGED)\n// ===============================\nasync function importKeyFromRaw(rawKeyBytes) {\n  return await window.crypto.subtle.importKey(\n    \"raw\",\n    rawKeyBytes,\n    { name: \"AES-GCM\" },\n    false,\n    [\"decrypt\"]\n  );\n}\n\nfunction hexToUint8(hex) {\n  return new Uint8Array(hex.match(/.{1,2}/g).map((b) => parseInt(b, 16)));\n}\n\nasync function decryptBlob(rawKeyBytes, nonceHex, ciphertextHex) {\n  const key = await importKeyFromRaw(rawKeyBytes);\n  const iv = hexToUint8(nonceHex);\n  const ct = hexToUint8(ciphertextHex);\n\n  const plain = await window.crypto.subtle.decrypt(\n    { name: \"AES-GCM\", iv },\n    key,\n    ct\n  );\n\n  return JSON.parse(new TextDecoder().decode(plain));\n}\n\n// ===============================\n// Masking logic\n// ===============================\nfunction maskMetadata(metadata) {\n  const m = { ...metadata };\n  if (m.age) m.age = \"##\";\n  if (m.name) m.name = \"REDACTED\";\n  return m;\n}\n\n// ===============================\n// Decode JWT (UI only)\n// ===============================\nfunction parseJwtPayload(token) {\n  try {\n    const payload = token.split(\".\")[1];\n    return JSON.parse(atob(payload.replace(/-/g, \"+\").replace(/_/g, \"/\")));\n  } catch {\n    return null;\n  }\n}\n\n// ===============================\n//        MAIN APP\n// ===============================\nexport default function App() {\n  const [token, setToken] = useState(\"\");\n  const [userInfo, setUserInfo] = useState(null);\n\n  // Existing features\n  const [blobs, setBlobs] = useState([]);\n  const [keyFile, setKeyFile] = useState(null);\n\n  // New features\n  const [results, setResults] = useState([]);\n\n  // ‚úÖ NEW: decrypted result state\n  const [decrypted, setDecrypted] = useState(null);\n\n  // ===============================\n  // AUTH HANDLING\n  // ===============================\n  function setAuthToken(t) {\n    setToken(t);\n\n    if (t) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + t;\n      sessionStorage.setItem(\"jwt\", t);\n\n      const payload = parseJwtPayload(t);\n      setUserInfo(payload ? { sub: payload.sub, role: payload.role } : null);\n    } else {\n      delete axios.defaults.headers.common[\"Authorization\"];\n      sessionStorage.removeItem(\"jwt\");\n      setUserInfo(null);\n    }\n  }\n\n  // Load token on startup\n  useEffect(() => {\n    const saved = sessionStorage.getItem(\"jwt\");\n    if (saved) setAuthToken(saved);\n  }, []);\n\n  // ===============================\n  // LOAD BLOBS\n  // ===============================\n  async function loadBlobs() {\n    try {\n      const r = await axios.get(`${PROXY_BASE}/list_blobs`);\n      setBlobs(r.data.blobs || []);\n    } catch (e) {\n      alert(\"List failed: \" + (e.response?.data?.detail || e.message));\n    }\n  }\n\n  // ===============================\n  // DECRYPT BLOB (UPDATED ‚Äî NO ALERT)\n  // ===============================\n  async function handleDecrypt(filename) {\n    if (!keyFile) {\n      alert(\"Upload key file first\");\n      return;\n    }\n\n    const fr = new FileReader();\n    fr.onload = async (e) => {\n      try {\n        const rawKey = new Uint8Array(e.target.result);\n\n        const r = await axios.get(`${PROXY_BASE}/fetch_blob/${filename}`);\n        const enc = r.data.enc_blob;\n\n        const plain = await decryptBlob(\n          rawKey.buffer,\n          enc.nonce,\n          enc.ciphertext\n        );\n\n        // Optional masking (UI only)\n        if (plain.metadata) {\n          plain.metadata = maskMetadata(plain.metadata);\n        }\n\n        setDecrypted(plain);\n      } catch (err) {\n        alert(\"Decrypt failed: \" + (err.response?.data?.detail || err.message));\n      }\n    };\n\n    fr.readAsArrayBuffer(keyFile);\n  }\n\n  // ===============================\n  // UI\n  // ===============================\n  return (\n    <div style={{ padding: 20 }}>\n      <h2>Clinician UI ‚Äî Secure Encrypted Federation</h2>\n\n      {/* LOGIN */}\n      <Login onToken={setAuthToken} />\n\n      {/* USER INFO */}\n      {userInfo ? (\n        <div style={{ marginBottom: 12 }}>\n          Logged in as <b>{userInfo.sub}</b> ({userInfo.role})\n          <button style={{ marginLeft: 10 }} onClick={() => setAuthToken(\"\")}>\n            Logout\n          </button>\n        </div>\n      ) : (\n        <div style={{ color: \"#777\" }}>Not logged in</div>\n      )}\n\n      <hr />\n\n      {/* üîç ENCRYPTED SEARCH */}\n      <h3>Encrypted Search (RBAC-Protected)</h3>\n      <SearchBox onResults={setResults} />\n      <ResultsTable results={results} />\n\n      <hr />\n\n      {/* üîê LOCAL DECRYPT */}\n      <h3>Encrypted Blob Decryption (Local Only)</h3>\n\n      <input type=\"file\" onChange={(e) => setKeyFile(e.target.files[0])} />\n      <span style={{ marginLeft: 8 }}>\n        Upload hospital AES key (never leaves browser)\n      </span>\n\n      <div style={{ marginTop: 10 }}>\n        <button onClick={loadBlobs}>List Encrypted Blobs</button>\n      </div>\n\n      <ul>\n        {blobs.map((b) => (\n          <li key={b} style={{ marginTop: 8 }}>\n            {b}\n            <button\n              style={{ marginLeft: 8 }}\n              onClick={() => handleDecrypt(b)}\n            >\n              Decrypt locally\n            </button>\n          </li>\n        ))}\n      </ul>\n\n      {/* ‚úÖ STEP F5 ‚Äî DECRYPT PANEL */}\n      <DecryptPanel decrypted={decrypted} />\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}